(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{23:function(e,t,a){e.exports={pagination:"Pagination_pagination__3LWRf",pagination__item:"Pagination_pagination__item__Xmx7J",pagination__link:"Pagination_pagination__link__1Xph9"}},25:function(e,t,a){e.exports={input:"input_input__3tW5-",invalid:"input_invalid__1ip37"}},26:function(e,t,a){e.exports={button:"button_button__3nBgc",success:"button_success__1eTAC",delete:"button_delete__3uooU"}},27:function(e,t,a){e.exports={center:"createnewcontact_center__2Q6KS",form:"createnewcontact_form__ZemjT"}},43:function(e,t,a){e.exports=a.p+"static/media/man-1.bd80794f.png"},46:function(e,t,a){e.exports=a(76)},51:function(e,t,a){},52:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(20),o=a.n(r),u=(a(51),a(52),a(5)),s=a(12),i=a(7),l=a(25),m=a.n(l),p=function(e){var t=e.type,a=e.name,n=e.value,r=e.onChange,o=e.label,u=e.errors,s=t||"text",i=[m.a.input],l="".concat(s,"-").concat(Math.random());return u&&i.push(m.a.invalid),c.a.createElement("div",{className:i.join(" ")},c.a.createElement("label",{htmlFor:l},o),c.a.createElement("div",null,c.a.createElement("input",{name:a,type:t,value:n,onChange:r,id:l,placeholder:t}),u&&c.a.createElement("span",{className:"error"},u)))},d=a(26),_=a.n(d),f=function(e){var t=e.children,a=e.type,n=e.onClick,r=[_.a.button,_.a[a]];return c.a.createElement("button",{onClick:n,className:r.join(" ")},t)},b=a(27),E=a.n(b),v=function(e){var t=e.onSubmit,a=e.initialValues,r=Object(n.useState)(a.name),o=Object(i.a)(r,2),u=o[0],s=o[1],l=Object(n.useState)(a.surname),m=Object(i.a)(l,2),d=m[0],_=m[1],b=Object(n.useState)(a.desc),v=Object(i.a)(b,2),C=v[0],h=v[1];return c.a.createElement("div",{className:E.a.form},c.a.createElement("form",{className:E.a.center,onSubmit:function(e){e.preventDefault(),t({name:u,surname:d,desc:C})}},c.a.createElement(p,{type:"name",label:"First name",value:u,onChange:function(e){return s(e.target.value)}}),c.a.createElement(p,{type:"surname",label:"Last name",value:d,onChange:function(e){return _(e.target.value)}}),c.a.createElement(p,{type:"description",label:"About contact",value:C,onChange:function(e){return h(e.target.value)}}),c.a.createElement(f,null,"Create")))};v.defaultProps={initialValues:[null]};var C=v,h=a(10),O=a.n(h),g=a(17),j=a(18),y=a.n(j),N=function(){return function(){var e=Object(g.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("http://77.120.241.80:8911/api/users");case 2:a=e.sent,console.log(a),t({type:"CONTACTS_LOADED",payload:a.data});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},T=a(11),x=Object(T.b)((function(e,t){var a=t.itemId,n=e.users.find((function(e){return e.id===+a}));return{name:n.name,surname:n.surname,desc:n.desc}}),{editContact:function(e,t,a,n){return function(){var c=Object(g.a)(O.a.mark((function c(r){return O.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,y.a.put("http://77.120.241.80:8911/api/user/".concat(e),{name:t,surname:a,desc:n}).then((function(c){return console.log(c)||r({type:"EDIT_CONTACT",payload:{name:t,surname:a,desc:n,id:e}})}));case 2:c.sent;case 3:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()},fetchContacts:N})((function(e){var t=e.itemId,a=e.editContact,r=e.name,o=e.surname,u=e.desc,l=e.fetchContacts,m=Object(n.useState)(!1),p=Object(i.a)(m,2),d=p[0],_=p[1],f={name:r,surname:o,desc:u};return d?(l(),c.a.createElement(s.a,{to:"/"})):c.a.createElement("div",null,c.a.createElement(C,{onSubmit:function(e){_(!0),a(t,e.name,e.surname,e.desc)},initialValues:f}))})),S=Object(T.b)(null,{addContacts:function(e,t,a){return function(){var n=Object(g.a)(O.a.mark((function n(c){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.post("http://77.120.241.80:8911/api/users",{name:e,surname:t,desc:a}).then((function(n){return c({type:"ADD_CONTACT",payload:{name:e,surname:t,desc:a,id:n.data.id}})}));case 2:n.sent;case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=e.addContacts,a=Object(n.useState)(!1),r=Object(i.a)(a,2),o=r[0],u=r[1];return o?c.a.createElement(s.a,{to:"/"}):c.a.createElement(C,{onSubmit:function(e){u(!0),t(e.name,e.surname,e.desc)}})})),w=a(9),k=a.n(w),A=a(23),D=a.n(A),P=function(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,r=[],o=1;o<=Math.ceil(a/t);o++)r.push(o);return c.a.createElement("nav",null,c.a.createElement("ul",{className:D.a.pagination},r.map((function(e){return c.a.createElement("li",{key:e,className:D.a.pagination__item},c.a.createElement(u.c,{onClick:function(){return n(e)},to:"/",className:D.a.pagination__link},e))}))))},I=a(43),L=a.n(I),J=function(e){var t=e.users,a=e.deleteContact;return c.a.createElement("div",null,t.map((function(e){return c.a.createElement("div",{className:k.a.contact,key:e.id},c.a.createElement("div",null,c.a.createElement(u.b,{to:"/user/".concat(e.id)},c.a.createElement("img",{className:k.a.contact__ava,src:L.a,alt:""}))),c.a.createElement("div",{className:k.a.contact__info},c.a.createElement("div",null,c.a.createElement(u.b,{className:k.a.contact__name,to:"/user/".concat(e.id)},e.name)),c.a.createElement("div",null,c.a.createElement(u.b,{className:k.a.contact__surname,to:"/user/".concat(e.id)},e.surname))),c.a.createElement(f,{type:"delete",onClick:function(){return a(e.id)}},"Delete"))})))},F={fetchContacts:N,deleteContact:function(e){return function(){var t=Object(g.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.delete("http://77.120.241.80:8911/api/user/".concat(e)).then((function(t){return console.log(t)||a({type:"DELETE_CONTACT",payload:{id:e}})}));case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},M=Object(T.b)((function(e){return{users:e.users}}),F)((function(e){var t=e.fetchContacts,a=e.users,r=e.deleteContact,o=Object(n.useState)(1),s=Object(i.a)(o,2),l=s[0],m=s[1],p=Object(n.useState)(5),d=Object(i.a)(p,1)[0],_=l*d,f=_-d,b=a.slice(f,_);return Object(n.useEffect)((function(){t()}),[]),c.a.createElement("div",{className:k.a.center},c.a.createElement(u.b,{className:k.a.add,to:"/create"},"Create new contact"),c.a.createElement(J,{deleteContact:r,users:b}),c.a.createElement(P,{postsPerPage:d,totalPosts:a.length,paginate:function(e){return m(e)}}))})),V=function(){return c.a.createElement(u.a,null,c.a.createElement("div",{className:"app"},c.a.createElement(s.b,{path:"/",component:M,exact:!0}),c.a.createElement(s.b,{path:"/create",component:S}),c.a.createElement(s.b,{path:"/user/:id",render:function(e){var t=e.match.params.id;return c.a.createElement(x,{itemId:t})}})))},B=a(16),G=a(44),K=a(45),Q=a(19),R={users:[]},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONTACTS_LOADED":return Object(Q.a)({},e,{users:t.payload});case"ADD_CONTACT":return Object(Q.a)({},e,{users:[].concat(Object(K.a)(e.users),[{name:t.payload.name,surname:t.payload.surname,desc:t.payload.desc,id:t.payload.id}])});case"DELETE_CONTACT":return Object(Q.a)({},e,{users:e.users.filter((function(e){var a=e.id;return t.payload.id!==a}))});case"EDIT_CONTACT":return Object(Q.a)({},e);default:return e}},X=Object(B.c)(W,Object(B.a)(G.a));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(T.a,{store:X},c.a.createElement(V,null))),document.getElementById("root"))},9:function(e,t,a){e.exports={center:"Contacts_center__Oyz7K",add:"Contacts_add__Cn4Sj",contact:"Contacts_contact__1uR_F",contact__ava:"Contacts_contact__ava__33G78",contact__info:"Contacts_contact__info__3Slwc",contact__name:"Contacts_contact__name__eJ4jY",contact__surname:"Contacts_contact__surname__G1Qcw"}}},[[46,1,2]]]);
//# sourceMappingURL=main.6a00bdee.chunk.js.map